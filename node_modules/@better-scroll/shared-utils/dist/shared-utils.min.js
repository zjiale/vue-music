!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).SharedUtils={})}(this,function(e){"use strict";var t="undefined"!=typeof window,n=t&&navigator.userAgent.toLowerCase(),r=n&&/wechatdevtools/.test(n),o=n&&0<n.indexOf("android");function c(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=0;r<n.length;r++){var o=n[r];for(var i in o)e[i]=o[i]}return e}var i=t&&document.createElement("div").style,a=function(){if(!t)return!1;var e={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var n in e)if(void 0!==i[e[n]])return n;return!1}();function s(e){return!1===a?e:"standard"===a?"transitionEnd"===e?"transitionend":e:a+e.charAt(0).toUpperCase()+e.substr(1)}var f=a&&"standard"!==a?"-"+a.toLowerCase()+"-":"",u=s("transform"),d=s("transition"),l=t&&s("perspective")in i,p=t&&("ontouchstart"in window||r),m=t&&d in i,v={transform:u,transition:d,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin"),transitionEnd:s("transitionEnd")};function w(e,n){for(var t in n)if(n[t].test(e[t]))return!0;return!1}var h=w;function g(e,n){var t;void 0===n&&(n="click"),"mouseup"===e.type?t=e:"touchend"!==e.type&&"touchcancel"!==e.type||(t=e.changedTouches[0]);var r,o={};t&&(o.screenX=t.screenX||0,o.screenY=t.screenY||0,o.clientX=t.clientX||0,o.clientY=t.clientY||0);var i=!0,a=!0;if("undefined"!=typeof MouseEvent)try{r=new MouseEvent(n,c({bubbles:i,cancelable:a},o))}catch(e){s()}else s();function s(){(r=document.createEvent("Event")).initEvent(n,i,a),c(r,o)}r.forwardedTouchEvent=!0,r._constructed=!0,e.target.dispatchEvent(r)}function b(e,n){n.parentNode.insertBefore(e,n)}function y(e,n){return new RegExp("(^|\\s)"+n+"(\\s|$)").test(e.className)}var E=t&&window;function T(){}function C(e){}var F=t?E.requestAnimationFrame||E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame||E.oRequestAnimationFrame||function(e){return window.setTimeout(e,(e.interval||100/60)/2)}:T,A=t?E.cancelAnimationFrame||E.webkitCancelAnimationFrame||E.mozCancelAnimationFrame||E.oCancelAnimationFrame||function(e){window.clearTimeout(e)}:T,x={enumerable:!0,configurable:!0,get:C,set:C};e.addClass=function(e,n){if(!y(e,n)){var t=e.className.split(" ");t.push(n),e.className=t.join(" ")}},e.addEvent=function(e,n,t,r){e.addEventListener(n,t,{passive:!1,capture:!!r})},e.assert=function(e,n){if(!e)throw new Error("[BScroll] "+n)},e.before=b,e.cancelAnimationFrame=A,e.click=g,e.cssVendor=f,e.dblclick=function(e){g(e,"dblclick")},e.ease={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(e){return 1+--e*e*e*e*e}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(e){return 1- --e*e*e*e}}},e.eventTypeMap={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2},e.extend=c,e.fixInboundValue=function(e,n,t){return e<n?n:t<e?t:e},e.getDistance=function(e,n){return Math.sqrt(e*e+n*n)},e.getElement=function(e){return"string"==typeof e?document.querySelector(e):e},e.getNow=function(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date},e.getRect=function(e){if(e instanceof window.SVGElement){var n=e.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},e.hasClass=y,e.hasPerspective=l,e.hasTouch=p,e.hasTransition=m,e.inBrowser=t,e.isAndroid=o,e.isPlainObject=function(e){return"object"==typeof e&&null!==e},e.isUndef=function(e){return null==e},e.isWeChatDevTools=r,e.offset=function(e){for(var n=0,t=0;e;)n-=e.offsetLeft,t-=e.offsetTop,e=e.offsetParent;return{left:n,top:t}},e.offsetToBody=function(e){var n=e.getBoundingClientRect();return{left:-(n.left+window.pageXOffset),top:-(n.top+window.pageYOffset)}},e.prepend=function(e,n){var t=n.firstChild;t?b(e,t):n.appendChild(e)},e.preventDefaultExceptionFn=w,e.propertiesProxy=function(e,n,t){x.get=function(){return function(e,n){for(var t=n.split("."),r=0;r<t.length-1;r++)if("object"!=typeof(e=e[t[r]])||!e)return;var o=t.pop();return"function"==typeof e[o]?function(){return e[o].apply(e,arguments)}:e[o]}(this,n)},x.set=function(e){!function(e,n,t){for(var r,o=n.split("."),i=0;i<o.length-1;i++)e[r=o[i]]||(e[r]={}),e=e[r];e[o.pop()]=t}(this,n,e)},Object.defineProperty(e,t,x)},e.removeChild=function(e,n){e.removeChild(n)},e.removeClass=function(e,n){if(y(e,n)){var t=new RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(t," ")}},e.removeEvent=function(e,n,t,r){e.removeEventListener(n,t,{capture:!!r})},e.requestAnimationFrame=F,e.style=v,e.tagExceptionFn=h,e.tap=function(e,n){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.pageX=e.pageX,t.pageY=e.pageY,e.target.dispatchEvent(t)},e.ua=n,e.warn=function(e){console.error("[BScroll warn]: "+e)},Object.defineProperty(e,"__esModule",{value:!0})});
