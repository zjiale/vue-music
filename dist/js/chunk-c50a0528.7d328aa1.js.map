{"version":3,"sources":["webpack:///./src/components/disc/disc.vue?8261","webpack:///./src/api/recommend.js","webpack:///./src/components/music-list/music-list.vue?dd05","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?ab3c","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/disc/disc.vue?264e","webpack:///src/components/disc/disc.vue","webpack:///./src/components/disc/disc.vue?a4c9","webpack:///./src/components/disc/disc.vue","webpack:///./src/components/music-list/music-list.vue?27a3"],"names":["getRecommend","url","data","Object","assign","commonParams","platform","uin","needNewCode","jsonp","options","getDiscList","g_tk","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","axios","get","params","then","res","Promise","resolve","getSongList","disstid","type","json","utf8","onlysong","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","domProps","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","_v","attrs","probeType","listenScroll","scroll","rank","selectItem","staticRenderFns","mixins","props","bgImage","String","default","Array","Boolean","scrollY","computed","bgStyle","created","mounted","imageHeight","$refs","clientHeight","minTranslageY","RESEVED_HEIGHT","list","$el","top","methods","handlePlaylist","bottom","refresh","pos","y","$router","selectPlay","index","randomPlay","watch","layer","transform","newY","scale","percent","zIndex","blur","min","filter","backdrop","height","paddingTop","playBtn","display","components","Scroll","SongList","Loading","component","disc","dissname","imgurl","_getSongList","dissid","code","push","_normalizeSongs","forEach","ret","MusicList"],"mappings":"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","file":"js/chunk-c50a0528.7d328aa1.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=46c188ab&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=46c188ab&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import jsonp from 'common/js/jsonp'\r\nimport {\r\n  commonParams,\r\n  options\r\n} from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getRecommend() {\r\n  const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getDiscList() {\r\n  const url = '/api/getDiscList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    g_tk: 5381,\r\n    platform: 'yqq.json',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 19,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random()\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getSongList(disstid) {\r\n  const url = '/api/getCdInfo'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    g_tk: 5381\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"probe-type\":_vm.probeType,\"listen-scroll\":_vm.listenScroll,\"data\":_vm.songs},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"rank\":_vm.rank,\"songs\":_vm.songs},on:{\"select\":_vm.selectItem}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"music-list\">\r\n    <div class=\"back\" @click=\"back\">\r\n      <i class=\"icon-back\"></i>\r\n    </div>\r\n    <h1 class=\"title\" v-html=\"title\"></h1>\r\n    <div class=\"bg-image\" :style=\"bgStyle\" ref=\"bgImage\">\r\n      <div class=\"play-wrapper\">\r\n        <div class=\"play\" v-show=\"songs.length>0\" ref=\"playBtn\" @click=\"random\">\r\n          <i class=\"icon-play\"></i>\r\n          <span class=\"text\">随机播放全部</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter\" ref=\"filter\"></div>\r\n    </div>\r\n    <div class=\"bg-layer\" ref=\"layer\"></div>\r\n    <scroll\r\n      @scroll=\"scroll\"\r\n      :probe-type=\"probeType\"\r\n      :listen-scroll=\"listenScroll\"\r\n      :data=\"songs\"\r\n      class=\"list\"\r\n      ref=\"list\"\r\n    >\r\n      <div class=\"song-list-wrapper\">\r\n        <song-list :rank=\"rank\" @select=\"selectItem\" :songs=\"songs\"></song-list>\r\n      </div>\r\n      <div class=\"loading-container\" v-show=\"!songs.length\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Scroll from 'base/scroll/scroll'\r\nimport SongList from 'base/song-list/song-list'\r\nimport Loading from 'base/loading/loading'\r\nimport { prefixStyle } from 'common/js/dom'\r\nimport { mapActions } from 'vuex'\r\nimport { playlistMixin } from 'common/js/mixin'\r\n\r\nconst RESEVED_HEIGHT = 40\r\nconst transform = prefixStyle('transform')\r\nconst backdrop = prefixStyle('backdrop-filter')\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  props: {\r\n    bgImage: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    songs: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scrollY: 0\r\n    }\r\n  },\r\n  computed: {\r\n    bgStyle () {\r\n      return `background-image:url(${this.bgImage})`\r\n    }\r\n  },\r\n  created () {\r\n    this.probeType = 3\r\n    this.listenScroll = true\r\n  },\r\n  mounted () {\r\n    this.imageHeight = this.$refs.bgImage.clientHeight\r\n    this.minTranslageY = -this.imageHeight + RESEVED_HEIGHT\r\n    this.$refs.list.$el.style.top = `${this.$refs.bgImage.clientHeight}px`\r\n  },\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : ''\r\n      this.$refs.list.$el.style.bottom = bottom\r\n      this.$refs.list.refresh()\r\n    },\r\n    scroll (pos) {\r\n      this.scrollY = pos.y\r\n    },\r\n    back () {\r\n      this.$router.back()\r\n    },\r\n    selectItem (item, index) {\r\n      this.selectPlay({\r\n        list: this.songs,\r\n        index: index\r\n      })\r\n    },\r\n    random () {\r\n      this.randomPlay({\r\n        list: this.songs\r\n      })\r\n    },\r\n    ...mapActions([\r\n      'selectPlay',\r\n      'randomPlay'\r\n    ])\r\n  },\r\n  watch: {\r\n    scrollY (newY) {\r\n      let translateY = Math.max(this.minTranslageY, newY)\r\n      let zIndex = 0\r\n      let scale = 1\r\n      let blur = 0\r\n      this.$refs.layer.style[transform] = `translate3d(0, ${translateY}px, 0)`\r\n      // abs为取绝对值,该值为放大比例值\r\n      const percent = Math.abs(newY / this.imageHeight)\r\n      if (newY > 0) {\r\n        scale = 1 + percent\r\n        zIndex = 10\r\n      } else {\r\n        blur = Math.min(20 * percent, 20)\r\n      }\r\n      this.$refs.filter.style[backdrop] = `blur(${blur}px)`\r\n      if (newY < this.minTranslageY) {\r\n        zIndex = 10\r\n        this.$refs.bgImage.style.height = `${RESEVED_HEIGHT}px`\r\n        this.$refs.bgImage.style.paddingTop = 0\r\n        this.$refs.playBtn.style.display = 'none'\r\n      } else {\r\n        this.$refs.bgImage.style.height = 0\r\n        this.$refs.bgImage.style.paddingTop = '70%'\r\n        this.$refs.playBtn.style.display = ''\r\n      }\r\n      this.$refs.bgImage.style.zIndex = zIndex\r\n      this.$refs.bgImage.style[transform] = `scale(${scale})`\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    SongList,\r\n    Loading\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@import '~common/stylus/variable'\r\n@import '~common/stylus/mixin'\r\n.music-list\r\n  position fixed\r\n  z-index 100\r\n  top 0\r\n  left 0\r\n  bottom 0\r\n  right 0\r\n  background $color-background\r\n  .back\r\n    position absolute\r\n    top 0\r\n    left 6px\r\n    z-index 50\r\n    .icon-back\r\n      display block\r\n      padding 10px\r\n      font-size $font-size-large-x\r\n      color $color-theme\r\n  .title\r\n    position absolute\r\n    top 0\r\n    left 10%\r\n    z-index 40\r\n    width 80%\r\n    no-wrap()\r\n    text-align center\r\n    line-height 40px\r\n    font-size $font-size-large\r\n    color $color-text\r\n  .bg-image\r\n    position relative\r\n    width 100%\r\n    height 0\r\n    padding-top 70%\r\n    transform-origin top\r\n    background-size cover\r\n    .play-wrapper\r\n      position absolute\r\n      bottom 20px\r\n      z-index 50\r\n      width 100%\r\n      .play\r\n        box-sizing border-box\r\n        width 135px\r\n        padding 7px 0\r\n        margin 0 auto\r\n        text-align center\r\n        border 1px solid $color-theme\r\n        color $color-theme\r\n        border-radius 100px\r\n        font-size 0\r\n        .icon-play\r\n          display inline-block\r\n          vertical-align middle\r\n          margin-right 6px\r\n          font-size $font-size-medium-x\r\n        .text\r\n          display inline-block\r\n          vertical-align middle\r\n          font-size $font-size-small\r\n    .filter\r\n      position absolute\r\n      top 0\r\n      left 0\r\n      width 100%\r\n      height 100%\r\n      background rgba(7, 17, 27, 0.4)\r\n  .bg-layer\r\n    position relative\r\n    height 100%\r\n    background $color-background\r\n  .list\r\n    position fixed\r\n    top 0\r\n    bottom 0\r\n    width 100%\r\n    background $color-background\r\n    .song-list-wrapper\r\n      padding 20px 30px\r\n    .loading-container\r\n      position absolute\r\n      width 100%\r\n      top 50%\r\n      transform translateY(-50%)\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music-list.vue?vue&type=template&id=8f926962&scoped=true&\"\nimport script from \"./music-list.vue?vue&type=script&lang=js&\"\nexport * from \"./music-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music-list.vue?vue&type=style&index=0&id=8f926962&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f926962\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"slide\">\r\n    <music-list :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\r\n  </transition>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport MusicList from 'components/music-list/music-list'\r\nimport { mapGetters } from 'vuex'\r\nimport { getSongList } from 'api/recommend'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong, isValidMusic, processSongUrl } from 'common/js/song'\r\n\r\nexport default {\r\n  computed: {\r\n    title () {\r\n      return this.disc.dissname\r\n    },\r\n    bgImage () {\r\n      return this.disc.imgurl\r\n    },\r\n    ...mapGetters([\r\n      'disc'\r\n    ])\r\n  },\r\n  data () {\r\n    return {\r\n      songs: []\r\n    }\r\n  },\r\n  created () {\r\n    this._getSongList()\r\n  },\r\n  methods: {\r\n    _getSongList () {\r\n      if (!this.disc.dissid) {\r\n        this.$router.push('/recommend')\r\n        return\r\n      }\r\n      getSongList(this.disc.dissid).then((res) => {\r\n        if (res.code === ERR_OK) {\r\n          processSongUrl(this._normalizeSongs(res.cdlist[0].songlist)).then((songs) => {\r\n            this.songs = songs\r\n          })\r\n        }\r\n      })\r\n    },\r\n    _normalizeSongs (list) {\r\n      let ret = []\r\n      list.forEach((musicData) => {\r\n        if (isValidMusic(musicData)) {\r\n          ret.push(createSong(musicData))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n  components: {\r\n    MusicList\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n.slide-enter-active, .slide-leave-active\r\n  transition all 0.3s\r\n.slide-enter, .slide-leave-to\r\n  transform translate3d(100%, 0, 0)\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./disc.vue?vue&type=template&id=46c188ab&scoped=true&\"\nimport script from \"./disc.vue?vue&type=script&lang=js&\"\nexport * from \"./disc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./disc.vue?vue&type=style&index=0&id=46c188ab&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46c188ab\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=8f926962&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=8f926962&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}